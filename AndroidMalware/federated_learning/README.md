
# Federated Learning Based Android Malware Detection

To get a quick start with limited resources, the default settings can be ran by following the instrucrions but without ideal performance.


### Default Settings

> You can find the requirements.txt in [requirements.txt](../requirements.txt)

- Python version: `3.8.10`
- Client num: 3
- Client selected each round: 3
- Training Resources: CPU
- Client dataset path: `../../data/3quantity_noniid10` (Please split this dataset before testing. For your own dataset, the splitting instructions are in the [../data_preprocessing](../data_preprocessing).)

Attacking settings:

- Compromised clients num: 0
- Poisoning rate: 1.0
- Beta for Trimmed Mean: 0

```bash
python3 simulation.py --client_path '3quantity_noniid10' --client_num 3 --client_min 3 --rounds 3 --gpu 0
```

> The training tasks in our research were configured with 20 and 200 clients for over 500 rounds. More details can be found in our paper.

### Arguments

- `client_num` the client number in total.
- `client_min` the client number to select each round.
- `rounds` the rounds of federated learning.
- `gpu` GPU numbers.
- `client_path` the client datasets path.

Attacking arguments:

- `compromised_num` compromised clients num for attacking, the M in the paper.
- `p` poisoning rate for each compromised clients for attacking, the p in the paper.
- `beta` the argument for Trimmed Mean AGR.

More arguments:

- `client_epoch` the local training epoch for each client. Default as 2.
- `batch_size` the local training batch size for each client. Default as 2.
- `agr` the aggregation rule or stragegy. Default as FedAVG.
- `model_path` initialized model for training. Default as no.

### Aggregation rules

If you want to try more aggregation rules as listed in our paper, you can find them in [../../strategy](../../strategy).


